# 项目经验教训记录

## GitHub上传注意事项

### 文件管理
- 大型文件（如视频文件）不应直接上传到GitHub
- 虚拟环境目录(.venv)应该被排除
- 二进制文件和临时文件需要谨慎处理

### 常用库版本记录
- 使用requirements.txt管理Python依赖
- 注意OpenCV等计算机视觉库的版本兼容性

### 项目结构规范
- 保持代码文件的合理组织
- 为重要功能添加适当的注释和文档

### Git操作经验
- **合并冲突处理**: 当远程仓库有文件时，使用`git pull --allow-unrelated-histories`
- **编辑器卡住**: Git合并时可能打开vi编辑器，需要正确退出或使用命令行参数
- **分支管理**: 注意本地分支名（master）与远程分支名的对应关系
- **文件排除**: .gitignore要在第一次提交前设置好，避免大文件被提交

## 代码分析和文档编写经验

### 代码分析方法
- **分层分析**: 先分析主程序文件，再深入子模块和工具函数
- **功能导向**: 按功能模块分类理解代码结构
- **依赖追踪**: 理清文件间的依赖关系和数据流
- **算法识别**: 识别核心算法和创新点

### 复杂项目理解技巧
1. **从主入口开始**: 找到main函数或主要执行文件
2. **看导入语句**: 了解使用的第三方库和内部模块
3. **读函数注释**: 优先阅读有详细注释的函数
4. **数据流追踪**: 跟踪数据的输入、处理和输出过程
5. **配置文件分析**: 理解项目的配置参数和设置

### 技术文档编写经验
- **用户角度**: 从新用户的角度考虑需要什么信息
- **分层结构**: 快速开始 → 详细使用 → 高级功能 → 开发指南
- **实例驱动**: 提供具体的代码示例和使用场景
- **问题预判**: 预见用户可能遇到的问题并提供解决方案

### 遇到的问题和解决方案
1. **大型视频文件问题**
   - 问题: mobile40111.mp4 (235MB) 和 mobile38.mp4 (193MB) 过大
   - 解决: 在.gitignore中排除*.mp4文件

2. **Git合并编辑器卡住**
   - 问题: `git pull --allow-unrelated-histories`时打开编辑器等待输入
   - 解决: 使用`git commit -m`手动完成合并提交

3. **远程仓库已存在内容**
   - 问题: GitHub仓库已有LICENSE文件，直接push失败
   - 解决: 先pull合并，再push

4. **Windows系统行尾符警告**
   - 问题: "LF will be replaced by CRLF" 警告
   - 解决: 这是正常现象，Git会自动处理

5. **代码理解困难**
   - 问题: 项目包含多个复杂的算法模块，理解困难
   - 解决: 按功能模块分类，从主程序入手逐步深入

6. **文档结构混乱**
   - 问题: 初始README过于简单，不能体现项目复杂性
   - 解决: 重新设计文档结构，分层次展示信息

7. **配置文件类型错误**
   - 问题: package.json包含JavaScript依赖项，但项目是Python项目
   - 解决: 创建requirements.txt管理Python依赖，删除不相关的JS文件

8. **配置文件内容缺失**
   - 问题: config.toml文件完全为空，无法提供项目配置
   - 解决: 创建完整的TOML配置文件，包含相机、路径、处理参数等配置

### 最佳实践总结
1. **准备阶段**: 先创建.gitignore，排除不必要文件
2. **文档完善**: 创建README.md说明项目用途和使用方法
3. **分步提交**: 先本地commit，再连接远程仓库
4. **冲突处理**: 遇到合并冲突时保持冷静，逐步解决
5. **验证成功**: 确认推送成功后检查GitHub仓库内容
6. **深度分析**: 通过代码分析理解项目真实复杂度
7. **文档迭代**: 根据代码分析结果不断完善文档
8. **用户体验**: 从使用者角度检查文档的完整性和可用性

### 计算机视觉项目特点
1. **多模态数据**: 图像、视频、3D数据需要不同处理方式
2. **算法复杂**: 涉及多种数学算法和优化方法
3. **依赖较多**: 需要多个专业库支持
4. **硬件要求**: 对内存和计算能力有较高要求
5. **实时性需求**: 很多应用需要实时或近实时处理

### 成功指标
- ✅ 本次上传63个对象，11.80 MiB
- ✅ 成功排除大型文件，节省空间和传输时间
- ✅ 保留了所有重要的代码和标定数据
- ✅ 完整的项目文档和说明
- ✅ **新增**: 深度理解了项目的技术架构
- ✅ **新增**: 编写了专业级README文档
- ✅ **新增**: 提供了完整的使用指南和示例

### 下次改进方向
1. 提前创建requirements.txt文件
2. 考虑使用Git LFS处理大型二进制文件
3. 建立更清晰的commit message规范
4. 定期备份和同步代码
5. **新增**: 深入分析代码前先理解项目背景和目标
6. **新增**: 编写文档时考虑不同用户群体的需求
7. **新增**: 为复杂项目创建架构图和流程图
8. **新增**: 建立代码质量检查和文档审查流程 